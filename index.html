<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Big Bubble!</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <style>
            body {
                background:#000;
                padding:0;
                margin:0;
                font-weight: bold;
                overflow:hidden;
            }

            #game {
                margin:20px auto 40px;
                border:1px solid #fff;
            }
            a {    color: #ffffff;    }

            #oldie a { color:#0b0 }
        </style>
    </head>

    <body>
<div id="game"></div>
<div id="vshader">

          varying vec2 vUv;
          varying float posz;
          varying float posy;
          varying float posx;

          void main() {
              vUv = uv;
              posx = position.x;
              posy = position.y;
              posz = position.z;
              vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
              gl_Position = projectionMatrix * mvPosition;
          }

      </div>
<div id="fshader">
    uniform vec3 color1;
    uniform vec3 color2;
    uniform float cHeight;

    varying float posx;
    varying float posy;
    varying float posz;

          uniform float time;
          uniform vec2 resolution;

          varying vec2 vUv;

          void main( void ) {

              vec2 position = vUv;

              float red, green, blue;
              vec3 prod;

              if( posz < -cHeight + 1.0 ) {
                prod = color1;
              } else if ( posz > cHeight - 1.0 ) {
                prod = (color1 * 0.0) + (color2 * (-0.0 + 1.0)) * 0.5;
              } else if ( posx < -cHeight + 1.0 ) {
                prod = (color1 * -position.x + 1.0) + (color2 * (position.x)) * 0.5;
              } else if ( posy > cHeight - 1.0 ) {
                prod = (color1 * position.y) + (color2 * (-position.y + 1.0)) * 0.5;
              } else if ( posy < -cHeight + 1.0 ) {
                prod = (color1 * -position.y + 1.0) + (color2 * position.y) * 0.5;
              } else {
                prod = (color1 * position.x) + (color2 * (-position.x + 1.0)) * 0.5;
                }
                red = prod.r;
                green = prod.g;
                blue = prod.b;
              gl_FragColor = vec4( red, green, blue, 1.0 );

          }

      </div>


        <script src="js/three.min.js"></script>
        <script src="js/jquery-2.0.0.min.js"></script>
        <script src="js/mousetrap.min.js"></script>
        <script src="js/FresnelShader.js"></script>
        <script src="js/Detector.js"></script>
        <script src="js/bubble.js"></script>
    </body>
</html>
